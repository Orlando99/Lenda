<mat-accordion>
    <mat-expansion-panel [expanded]="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          PRICE
        </mat-panel-title>
      </mat-expansion-panel-header>
  
      <div *ngIf="allDataFetched" class="container">
        <div class="row">
          <div class="col s12">
            <!-- Table Here -->
         <h4>
            <button (click)="synctoDb()" [disabled]="!syncenabled" mat-icon-button>
            <mat-icon >publish</mat-icon>
          </button></h4>
            <table class="bordered">
              <thead>
                <tr>
                    <th>Crop</th>
                    <th>Crop Type</th>
                    <th>Crop Price</th>
                    <th>Basis Adj</th>
                    <th>Marketing Adj</th>
                    <th>Rebate Adj</th>
                    <th>Adj Price</th>
                    <th>Contract Qty</th>
                    <th>Contract Price</th>
                    <th>% Booked</th>
                    <th>Ins UOM</th>
                </tr>
              </thead>
      
              <tbody>
                <tr *ngFor="let cropunit of localloanobject.LoanCropUnits;let i=index">
                  <td>{{cropunit.Crop_Code}}</td>
                  <td>-</td>
                  <td>{{cropunit.Z_Price}}</td>
                  <td class="editable" (click)="startediting('Z_Basis_Adj'+i)">
                      <div *ngIf="!editarray['Z_Basis_Adj'+i]">$ {{cropunit.Z_Basis_Adj}}</div>
                      <div *ngIf="editarray['Z_Basis_Adj'+i]"><input setfocus  type="number"  value="{{cropunit.Z_Basis_Adj}}" (blur)="valueupdate($event.srcElement.value,'Z_Basis_Adj'+i,cropunit.Loan_CU_ID)" ></div> 
                  </td>
                  <td>{{cropunit.Marketing_Adj}}</td>
                  <td class="editable" (click)="startediting('Z_Rebate_Adj'+i)">
                      <div *ngIf="!editarray['Z_Rebate_Adj'+i]">$ {{cropunit.Z_Rebate_Adj}}</div>
                      <div *ngIf="editarray['Z_Rebate_Adj'+i]"><input setfocus  type="number"  value="{{cropunit.Z_Rebate_Adj}}" (blur)="valueupdate($event.srcElement.value,'Z_Rebate_Adj'+i,cropunit.Loan_CU_ID)" ></div> 
                  </td>
                  <td>{{cropunit.Z_Adj_Price}}</td>
                  <td>-</td>
                  <td>-</td>
                  <td>{{cropunit.Booking_Ind}}</td>

                  <td> Bu </td>
                 
                  
                  
                </tr>
               
              </tbody>
              </table>
            <!-- Ends Here -->
            <br>
          </div>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>


  <mat-accordion>
    <mat-expansion-panel [expanded]="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          PRICES
        </mat-panel-title>
      </mat-expansion-panel-header>
  
        <button (click)="synctoDb()" [disabled]="!syncenabled()" mat-icon-button>
        <mat-icon >publish</mat-icon>
      </button>
  
      <button (click)="addrow()" mat-raised-button color="primary" >Add </button>
        
            <div class="container bottom">
              <div class="row">
              <ag-grid-angular 
              style="width: 96%; height: 250px;" 
              class="ag-theme-balham"
              [animateRows]="true"
              [enableSorting]="true"
              [enableFilter]="true"
              [context]="context"
              [frameworkComponents]="frameworkcomponents"
              [components]="components"
              (cellEditingStopped)="rowvaluechanged($event)"
              [rowData]="rowData" 
              (gridReady)="onGridReady($event)"
              [columnDefs]="columnDefs">
              </ag-grid-angular>
              </div>
            </div>
            <br>
    </mat-expansion-panel>
    </mat-accordion>